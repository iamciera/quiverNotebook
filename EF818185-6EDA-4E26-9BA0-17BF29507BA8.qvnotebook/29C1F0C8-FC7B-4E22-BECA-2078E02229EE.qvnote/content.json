{
  "title": "E-mails from Bronski",
  "cells": [
    {
      "type": "text",
      "data": "<div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">In response to&nbsp;<a href=\"https://gist.github.com/iamciera/a9e22bf5e450d4a28f42\" style=\"font-family: Arial, Helvetica, sans-serif; line-height: 1.4;\">https://gist.github.com/iamciera/a9e22bf5e450d4a28f42</a></div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><br></div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">2/28/16</div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><br></div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">I created a directory on your server account called&nbsp;<b>montium_data_ciera_new_<wbr>assemblies</b>&nbsp;and copied 9 new assemblies there.&nbsp; The issue you encountered only affects the 9 assemblies that were aligned to the&nbsp;<i>D. melanogaster</i>&nbsp;genome.&nbsp; These new assemblies all end in \"1kbplus_upper_short_header.<wbr>fa\".&nbsp; Compared to the other assemblies you have, these assemblies (1) only contain scaffolds longer than 999 bp, (2) contain the \"short form\" of the scaffold names, and (3) contain only uppercase letters. &nbsp;(I had to shorten the scaffold names at some point so they didn't break the whole-genome alignment pipeline.) &nbsp;So these files should allow you to seamlessly use other applications like fastaFromBED after generating a BED file using the liftOver application. &nbsp;(Another option would be to convert the scaffold names, but that adds an extra step, and this is easier.) &nbsp;Sorry I didn't anticipate this problem for you from the start.&nbsp; Please let me know if this doesnâ€™t work for some reason.</div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><br></div>"
    },
    {
      "type": "text",
      "data": "<div>1/30/16</div><div><br></div>It took a little longer than expected, but I copied a bunch of files to your account on the sever.&nbsp; You can find them in the directory&nbsp;<b>montium_genomes</b>, which contains 12 subdirectories for the 12 different samples / species.&nbsp; I've attached a file (<b>montium_readme.txt</b>) that lists the corresponding species and sample names. &nbsp;(This used to be the README file on our FTP server.)<div><br></div><div><span style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">I'll now take you through the various files in the subdirectories, using&nbsp;</span><i style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">D. rufa</i><span style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">&nbsp;(Sample_MEMB002A_index5) as an example.</span><br style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><br style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><b style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">MEMB002A_index5_ACAGTG_L007_<wbr>R1_combined_filtered_bbduk_<wbr>k25_Q10.fastq.cor.pair_1.fq<br>MEMB002A_index5_ACAGTG_L007_<wbr>R2_combined_filtered_bbduk_<wbr>k25_Q10.fastq.cor.pair_2.fq</b><br style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><br style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\">These are the Read1 and Read2 files that were adapter trimmed, quality trimmed, and error corrected.&nbsp; Adapter / quality trimming was done using BBDuk, and error correction was done using SOAPec.<br><br><b>MEMB002A_velvet_gap_closer_<wbr>reapr_pipeline_break_default_<wbr>gap_closer.fa</b><br><br>These are the final Velvet scaffolds.&nbsp; After the initial assembly (k=49) I filled in gaps using Gap Closer, evaluated the assembly and broke apart mis-assemblies using the REAPR pipeline, and then ran Gap Closer one final time.<br><br><b>Dmel_to_MEMB002A.over.chain</b><br><br>This is a liftOver chain file that was generated after aligning each&nbsp;<i>montium</i>&nbsp;assembly to the&nbsp;<i>D. melanogaster&nbsp;</i>genome. &nbsp;(Due to highly fragmented assemblies because of high heterozygosity, I didn't align three assemblies:&nbsp;<i>D. auraria</i>(Sample_MEMB003E_index16),&nbsp;<i>D. triauraria</i>&nbsp;(Sample_MEMB002B_index6), and&nbsp;<i>D. leontia</i>&nbsp;(Sample_MEMB003A_index2).)<br><div></div><div><br></div><div>You can use this file to remap coordinates from any annotated feature (like an enhancer) in the&nbsp;<i>D. melanogaster</i>&nbsp;genome onto a&nbsp;<i>montium</i>&nbsp;assembly. &nbsp;</div><div><br></div><div><span style=\"font-size: 12.8px;\">You'll need to download the&nbsp;<b>liftOver</b>&nbsp;application that was written for the UCSC Genome Browser.&nbsp; You can download binaries built for linux here:&nbsp;<a href=\"http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64/\" target=\"_blank\" style=\"color: rgb(17, 85, 204);\">http://hgdownload.cse.<wbr>ucsc.edu/admin/exe/linux.x86_<wbr>64/</a>. &nbsp;(The FOOTER file contains usage instructions.) &nbsp;</span><span style=\"font-size: 12.8px;\">Then make the application executable (e.g., chmod +x liftOver).</span><br></div><div><span style=\"font-size: 12.8px;\"><br></span></div><div>The application takes as input a BED file of annotated features in the&nbsp;<i>D. melanogaster</i>&nbsp;genome, and outputs a BED file of corresponding coordinates in the&nbsp;<i>montium</i>&nbsp;genome.&nbsp; Here's a sample command that should serve as a decent starting point, but you do need to inspect the accuracy of the \"lifts\".</div><div><br></div><div><b style=\"font-size: 12.8px;\">$&nbsp;liftOver&nbsp;-minMatch=0.1 -multiple input.bed&nbsp;</b><b>Dmel_to_MEMB002A.<wbr>over.chain</b><b style=\"font-size: 12.8px;\">&nbsp;output.bed unMapped</b><br></div></div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><b style=\"font-size: 12.8px;\"><br></b></div><div style=\"color: rgb(34, 34, 34); font-family: arial, sans-serif; font-size: 12.8px; line-height: normal; widows: 1; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12.8px;\">Let me know if you have any questions!</span></div></div><div><span style=\"font-size: 12.8px;\"><br></span></div>"
    }
  ]
}